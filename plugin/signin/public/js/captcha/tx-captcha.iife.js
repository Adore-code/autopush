var TxCaptcha=function(){"use strict";class a{constructor({captcha_app_id:t}){try{this.captcha_app_id=t,this.appInstance=new TencentCaptcha(t,s=>{this.callback(s)},{})}catch(s){this.loadErrorCallback(r=>{this.callback(r)})}}loadErrorCallback(t){let s="terror_1001_"+this.captcha_app_id+"_"+Math.floor(new Date().getTime()/1e3);t({ret:1,randstr:"@"+Math.random().toString(36).substring(0,1),ticket:s,errorCode:1001,errorMessage:"jsload_error"})}ok(){if(!this.okFun||!this.data)return;console.log(this.data),this.okFun(this.data)&&this.show()}callback(t){t.ret===0&&(this.data=JSON.stringify(t),console.log(this.data,t),this.ok())}show(){return this.appInstance.show(),this}close(){this.appInstance.destroy()}then(t){return this.okFun=t,this.show(),this}reset(){}unmount(){this.close()}}return a}();
